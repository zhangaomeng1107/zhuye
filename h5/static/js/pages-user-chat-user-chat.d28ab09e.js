(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-chat-user-chat"],{"0278":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{text:""}},methods:{submit:function(){this.$emit("submit",this.text),this.text=""}}};e.default=a},"04e1":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-scroll-view",{style:{height:t.style.contentH+"px"},attrs:{id:"scrollview","scroll-y":!0,"scroll-top":t.scrollTop,"scroll-with-animation":!0}},[t._l(t.list,(function(t,e){return[i("user-chat-list",{key:e+"_0",attrs:{item:t,index:e}})]}))],2),i("user-chat-bottom",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}})],1)},r=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}))},"37ca":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"user-chat-item"},[t.item.gstime?i("v-uni-view",{staticClass:"user-chat-time u-f-ac u-f-jc"},[t._v(t._s(t.item.gstime))]):t._e(),i("v-uni-view",{staticClass:"user-chat-list u-f",class:{"user-chat-me":t.item.isme}},[t.item.isme?t._e():i("v-uni-image",{attrs:{src:t.item.userpic,mode:"widthFix","lazy-load":!0}}),i("v-uni-view",{staticClass:"user-chat-list-body"},["text"==t.item.type?i("v-uni-text",[t._v(t._s(t.item.data))]):t._e(),"img"==t.item.type?i("v-uni-image",{attrs:{src:t.item.data,mode:"widthFix","lazy-load":!0}}):t._e()],1),t.item.isme?i("v-uni-image",{attrs:{src:t.item.userpic,mode:"widthFix","lazy-load":!0}}):t._e()],1)],1)},r=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}))},"3e2b":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"user-chat-bottom u-f-ac"},[i("v-uni-input",{attrs:{type:"text",placeholder:"文明发言"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),i("v-uni-view",{staticClass:"icon iconfont icon-fabu u-f-ac u-f-jc",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}})],1)},r=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}))},"412b":function(t,e,i){var a=i("dca7");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3524ce77",a,!0,{sourceMap:!1,shadowMode:!1})},"463f":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{item:Object,index:Number}};e.default=a},4961:function(t,e,i){"use strict";var a=i("672c"),n=i.n(a);n.a},5160:function(t,e,i){"use strict";i.r(e);var a=i("3e2b"),n=i("769d");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("4961");var s,u=i("f0c5"),c=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"23464138",null,!1,a["a"],s);e["default"]=c.exports},5213:function(t,e,i){"use strict";i.r(e);var a=i("37ca"),n=i("777d");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("f1c5");var s,u=i("f0c5"),c=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"44b33ccb",null,!1,a["a"],s);e["default"]=c.exports},"672c":function(t,e,i){var a=i("9fc4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("414416bc",a,!0,{sourceMap:!1,shadowMode:!1})},"721d":function(t,e,i){"use strict";var a=i("ee27");i("4160"),i("ac1f"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("5160")),r=a(i("a2e6")),s=a(i("5213")),u={components:{userChatBottom:n.default,userChatList:s.default},data:function(){return{scrollTop:0,style:{contentH:0,itemH:0},list:[]}},onLoad:function(){this.getdata(),this.initdata()},onReady:function(){this.pageToBottom()},methods:{initdata:function(){try{var t=uni.getSystemInfoSync();this.style.contentH=t.windowHeight-uni.upx2px(130)}catch(e){}},pageToBottom:function(){var t=this,e=uni.createSelectorQuery();e.select("#scrollview").boundingClientRect(),e.selectAll(".user-chat-item").boundingClientRect(),e.exec((function(e){e[1].forEach((function(e){t.style.itemH+=e.height})),t.style.itemH>t.style.contentH&&(t.scrollTop=t.style.itemH)}))},getdata:function(){for(var t=[{userpic:"../../static/demo/userpic/19.jpg",isme:!1,type:"text",data:"随便随便随便随便随便随便随便随便随便随便随便随便随便随便随便随便随便随便随便",time:"1588074463"},{userpic:"../../static/demo/userpic/20.jpg",isme:!0,type:"img",data:"../../static/demo/3.jpg",time:"1588074523"},{userpic:"../../static/demo/userpic/20.jpg",isme:!0,type:"img",data:"../../static/demo/3.jpg",time:"1588221379"}],e=0;e<t.length;e++)t[e].gstime=r.default.gettime.getChatTime(t[e].time,e>0?t[e-1].time:0);this.list=t},submit:function(t){var e=(new Date).getTime(),i={userpic:"../../static/demo/userpic/20.jpg",isme:!0,type:"text",data:t,time:e,gstime:r.default.gettime.getChatTime(e,this.list[this.list.length-1].time)};this.list.push(i),this.pageToBottom()}}};e.default=u},"769d":function(t,e,i){"use strict";i.r(e);var a=i("0278"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},7766:function(t,e,i){"use strict";i.r(e);var a=i("04e1"),n=i("e506");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s,u=i("f0c5"),c=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"20579107",null,!1,a["a"],s);e["default"]=c.exports},"777d":function(t,e,i){"use strict";i.r(e);var a=i("463f"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"9fc4":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".user-chat-bottom[data-v-23464138]{position:fixed;bottom:0;left:0;right:0;height:%?120?%;padding:0 %?20?%;background:#fff;border-top:%?1?% solid #eee}.user-chat-bottom>uni-input[data-v-23464138]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-right:%?20?%;padding:%?10?% %?20?%;border-radius:%?10?%;background:#f7f7f7}.user-chat-bottom>uni-view[data-v-23464138]{width:%?80?%;font-size:%?50?%}",""]),t.exports=e},a2e6:function(t,e,i){"use strict";i("d3b7"),i("e25e"),i("4d63"),i("ac1f"),i("25f0"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={getChatTime:function(t,e){if(t=t.toString().length<13?1e3*t:t,e=e.toString().length<13?1e3*e:e,(parseInt(t)-parseInt(e))/1e3>300)return this.gettime(t)},gettime:function(t){t=t.toString().length<13?1e3*t:t;var e=(new Date).getTime(),i=(e-parseInt(t))/1e3;return i<43200?this.dateFormat(new Date(t),"{A} {t}:{ii}"):i<518400?this.dateFormat(new Date(t),"{Mon}月{DD}日 {A} {t}:{ii}"):this.dateFormat(new Date(t),"{Y}-{MM}-{DD} {A} {t}:{ii}")},parseNumber:function(t){return t<10?"0"+t:t},dateFormat:function(t,e){var i={},a=/\{([^}]+)\}/,n=["一","二","三","四","五","六","七","八","九","十","十一","十二"];i["Y"]=t.getFullYear(),i["M"]=t.getMonth()+1,i["MM"]=this.parseNumber(i["M"]),i["Mon"]=n[i["M"]-1],i["D"]=t.getDate(),i["DD"]=this.parseNumber(i["D"]),i["h"]=t.getHours(),i["hh"]=this.parseNumber(i["h"]),i["t"]=i["h"]>12?i["h"]-12:i["h"],i["tt"]=this.parseNumber(i["t"]),i["A"]=i["h"]>12?"下午":"上午",i["i"]=t.getMinutes(),i["ii"]=this.parseNumber(i["i"]),i["s"]=t.getSeconds(),i["ss"]=this.parseNumber(i["s"]);while(a.test(e))e=e.replace(a,i[RegExp.$1]);return e}},n={gettime:a};e.default=n},dca7:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.user-chat-list[data-v-44b33ccb]{padding:%?20?% 0}.user-chat-list>uni-image[data-v-44b33ccb]{width:%?100?%;height:%?100?%;border-radius:100%;-webkit-flex-shrink:0;flex-shrink:0}.user-chat-list-body[data-v-44b33ccb]{position:relative;background:#f4f4f4;padding:%?25?%;margin-left:%?20?%;border-radius:%?20?%;margin-right:%?100?%}.user-chat-list-body[data-v-44b33ccb]:after{position:absolute;left:%?-30?%;right:0;top:%?30?%;content:"";width:0;height:0;border:%?16?% solid #f4f4f4;border-color:transparent #f4f4f4 transparent transparent}.user-chat-me[data-v-44b33ccb]{-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.user-chat-me .user-chat-list-body[data-v-44b33ccb]{margin-right:%?20?%;margin-left:%?100?%}.user-chat-me .user-chat-list-body[data-v-44b33ccb]:after{left:auto;right:%?-30?%;border-color:transparent transparent transparent #f4f4f4}.user-chat-list-body>uni-image[data-v-44b33ccb]{max-width:%?150?%;max-height:%?200?%}.user-chat-time[data-v-44b33ccb]{padding:%?50?% 0;color:#a2a2a2;font-size:%?24?%}',""]),t.exports=e},e506:function(t,e,i){"use strict";i.r(e);var a=i("721d"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},f1c5:function(t,e,i){"use strict";var a=i("412b"),n=i.n(a);n.a}}]);